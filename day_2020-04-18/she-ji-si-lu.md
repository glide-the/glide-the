---
date: '2020-04-18T20:11:10.000Z'
layout: post
---

# 设计思路

* **前言**

    对于一个金融统计系统，数据的存储方式决定了io响应速度，预测算法决定了预测准确，应用场景决定了什么时候跑路

* **存储**

  基于mysql的 sharding存储 mycat中间件处理数据分片存储逻辑

  > 分片规则
  >
  > * 按日期分片
  > * 按单月小时拆分  此规则是单月内按照小时拆分，最小粒度是小时，可以一天最多24个分片，最少1个分片，一个月完后下月从头开始循环。 每个月月尾，需要手工清理数据。 
  >
  >   \`\`\`xml
  >
  >      create\_time sharding-by-hour
  >
  >     &lt;/rule&gt;
  >
  >   &lt;/tableRule&gt; 
  >
  >   24

* **预测**

  基于TensorFlow预测模型，暂无相关使用规则，预测算法依据模型设计

